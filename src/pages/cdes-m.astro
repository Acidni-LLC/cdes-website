---
import Layout from '../layouts/Layout.astro';
---

<Layout title="CDES-M - Medical Extension | Cannabis Data Exchange Standard">
  <!-- Hero Section -->
  <div class="bg-gradient-to-br from-blue-700 to-blue-900 text-white">
    <div class="max-w-7xl mx-auto px-4 py-16 sm:py-24 sm:px-6 lg:px-8">
      <div class="text-center">
        <div class="inline-flex items-center px-4 py-2 bg-blue-600 rounded-full text-sm font-medium mb-6">
          <span class="animate-pulse mr-2"></span> NEW: Medical Extension v1.0
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold mb-6">CDES-M</h1>
        <p class="text-xl sm:text-2xl md:text-3xl text-blue-100 mb-4">Medical Extension</p>
        <p class="text-base sm:text-xl text-blue-200 max-w-3xl mx-auto mb-8">
          Bridging cannabis data to healthcare systems. FHIR R4, ICD-10-CM, SNOMED CT,
          NPI, and LOINC integration for medical marijuana programs.
        </p>
        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
          <a href="/cdes-m/presentation" class="px-6 sm:px-8 py-3 sm:py-4 bg-white text-blue-700 rounded-lg font-semibold text-base sm:text-lg hover:bg-blue-50 transition">View Presentation</a>
          <a href="https://github.com/Acidni-LLC/cdes-m-spec" class="px-6 sm:px-8 py-3 sm:py-4 border-2 border-white text-white rounded-lg font-semibold text-base sm:text-lg hover:bg-white hover:text-blue-700 transition">Specification</a>
          <a href="https://pypi.org/project/cdes-m/" class="px-6 sm:px-8 py-3 sm:py-4 border-2 border-white text-white rounded-lg font-semibold text-base sm:text-lg hover:bg-white hover:text-blue-700 transition">Python SDK</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bridge Concept -->
  <div class="bg-gray-50 py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-4">CDES-M is a Bridge</h2>
      <p class="text-lg sm:text-xl text-gray-600 text-center max-w-3xl mx-auto mb-8 sm:mb-12">
        CDES-M doesn't replace healthcare standards - it bridges CDES cannabis data INTO them.
      </p>
      
      <!-- Mobile: Vertical stack -->
      <div class="flex flex-col items-center gap-4 md:hidden">
        <div class="bg-green-100 p-6 rounded-xl text-center w-full max-w-xs">
          <h3 class="text-lg font-bold text-green-800">CDES</h3>
          <p class="text-green-700 text-sm mb-2">Cannabis Data</p>
          <p class="text-sm text-green-700">Strains, Terpenes, COAs, Products</p>
        </div>
        <div class="text-3xl text-blue-600"></div>
        <div class="bg-blue-100 p-6 rounded-xl text-center w-full max-w-xs">
          <h3 class="text-lg font-bold text-blue-800">CDES-M</h3>
          <p class="text-blue-700 text-sm mb-2">Medical Bridge</p>
          <p class="text-sm text-blue-700">Provider, Patient, Recommendation</p>
        </div>
        <div class="text-3xl text-blue-600"></div>
        <div class="bg-purple-100 p-6 rounded-xl text-center w-full max-w-xs">
          <h3 class="text-lg font-bold text-purple-800">Healthcare</h3>
          <p class="text-purple-700 text-sm mb-2">Existing Standards</p>
          <p class="text-sm text-purple-700">FHIR R4, ICD-10, SNOMED, NPI</p>
        </div>
      </div>
      
      <!-- Desktop: Horizontal -->
      <div class="hidden md:flex flex-row items-center justify-center gap-6 lg:gap-8">
        <div class="bg-green-100 p-6 lg:p-8 rounded-xl text-center w-56 lg:w-64">
          <h3 class="text-xl font-bold text-green-800">CDES</h3>
          <p class="text-green-700 text-sm">Cannabis Data</p>
          <ul class="text-left text-sm text-green-700 mt-4 space-y-1">
            <li> Strains</li>
            <li> Terpene Profiles</li>
            <li> COA Results</li>
            <li> Products</li>
          </ul>
        </div>
        <div class="text-4xl lg:text-6xl text-blue-600"></div>
        <div class="bg-blue-100 p-6 lg:p-8 rounded-xl text-center w-56 lg:w-64">
          <h3 class="text-xl font-bold text-blue-800">CDES-M</h3>
          <p class="text-blue-700 text-sm">Medical Bridge</p>
          <ul class="text-left text-sm text-blue-700 mt-4 space-y-1">
            <li> Provider  Practitioner</li>
            <li> Patient  Patient</li>
            <li> Recommendation  MedicationRequest</li>
            <li> Efficacy  Observation</li>
          </ul>
        </div>
        <div class="text-4xl lg:text-6xl text-blue-600"></div>
        <div class="bg-purple-100 p-6 lg:p-8 rounded-xl text-center w-56 lg:w-64">
          <h3 class="text-xl font-bold text-purple-800">Healthcare</h3>
          <p class="text-purple-700 text-sm">Existing Standards</p>
          <ul class="text-left text-sm text-purple-700 mt-4 space-y-1">
            <li> FHIR R4</li>
            <li> ICD-10-CM</li>
            <li> SNOMED CT</li>
            <li> NPI / LOINC</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Standards Integration -->
  <div class="max-w-7xl mx-auto px-4 py-12 sm:py-16 sm:px-6 lg:px-8">
    <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-8 sm:mb-12">Healthcare Standards Integration</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">HL7 FHIR R4</h3>
        <p class="text-gray-600 text-sm mb-4">Full resource mapping for Practitioner, Patient, Condition, MedicationRequest.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">provider_to_practitioner()</code>
      </div>
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">ICD-10-CM</h3>
        <p class="text-gray-600 text-sm mb-4">Diagnosis coding for qualifying conditions. Chronic pain, PTSD, Cancer.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">Condition.icd10_code</code>
      </div>
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">SNOMED CT</h3>
        <p class="text-gray-600 text-sm mb-4">Clinical terminology for precise condition descriptions.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">Condition.snomed_code</code>
      </div>
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">NPI</h3>
        <p class="text-gray-600 text-sm mb-4">National Provider Identifier for all licensed healthcare providers.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">Provider.npi</code>
      </div>
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">LOINC</h3>
        <p class="text-gray-600 text-sm mb-4">Lab observation codes for patient-reported outcomes.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">77580-4 (PRO)</code>
      </div>
      <div class="border border-gray-200 rounded-lg p-5 sm:p-6 hover:shadow-lg transition">
        <h3 class="text-lg sm:text-xl font-semibold mb-2">Consumer Health</h3>
        <p class="text-gray-600 text-sm mb-4">Apple HealthKit and Google Health Connect integration.</p>
        <code class="text-xs bg-gray-100 px-2 py-1 rounded">v1.2 Planned</code>
      </div>
    </div>
  </div>

  <!-- Core Entities -->
  <div class="bg-gray-50 py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-8 sm:mb-12">Core Entities</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
        <div class="bg-white p-5 sm:p-6 rounded-lg shadow">
          <h3 class="text-lg font-semibold text-blue-700 mb-2">Provider</h3>
          <p class="text-gray-600 text-sm">Licensed healthcare provider with NPI, state license, DEA number.</p>
        </div>
        <div class="bg-white p-5 sm:p-6 rounded-lg shadow">
          <h3 class="text-lg font-semibold text-blue-700 mb-2">Patient</h3>
          <p class="text-gray-600 text-sm">HIPAA-protected patient with conditions and terpene fingerprint.</p>
        </div>
        <div class="bg-white p-5 sm:p-6 rounded-lg shadow">
          <h3 class="text-lg font-semibold text-blue-700 mb-2">Recommendation</h3>
          <p class="text-gray-600 text-sm">Provider recommendation with target profile and dosing guidance.</p>
        </div>
        <div class="bg-white p-5 sm:p-6 rounded-lg shadow">
          <h3 class="text-lg font-semibold text-blue-700 mb-2">EfficacyReport</h3>
          <p class="text-gray-600 text-sm">Patient-reported outcomes tracking treatment effectiveness.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Start -->
  <div class="max-w-7xl mx-auto px-4 py-12 sm:py-16 sm:px-6 lg:px-8">
    <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-6 sm:mb-8">Quick Start</h2>
    <div class="max-w-3xl mx-auto">
      <div class="bg-gray-900 rounded-lg p-4 sm:p-6 text-white font-mono text-xs sm:text-sm overflow-x-auto">
        <div class="text-green-400 mb-2"># Install the SDK</div>
        <div class="mb-4">pip install cdes-m</div>
        <div class="text-green-400 mb-2"># Create a provider</div>
        <div class="text-gray-300">
          from cdes_m import Provider<br>
          provider = Provider(npi="1234567890", license_state="FL")
        </div>
        <div class="text-green-400 mt-4 mb-2"># Convert to FHIR</div>
        <div class="text-gray-300">
          from cdes_m.fhir import provider_to_practitioner<br>
          practitioner = provider_to_practitioner(provider)
        </div>
      </div>
    </div>
  </div>

  <!-- Working Groups -->
  <div class="bg-blue-50 py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-4">Working Groups</h2>
      <p class="text-lg text-gray-600 text-center max-w-2xl mx-auto mb-8">
        Join our community meetings to shape medical cannabis data standards.
      </p>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-4xl mx-auto">
        <div class="bg-white p-5 rounded-lg shadow">
          <h3 class="font-semibold text-blue-700 mb-2">Technical Working Group</h3>
          <p class="text-gray-600 text-sm mb-2">Schema development, FHIR mapping</p>
          <p class="font-medium text-sm">Tuesdays @ 3:00 PM ET</p>
        </div>
        <div class="bg-white p-5 rounded-lg shadow">
          <h3 class="font-semibold text-blue-700 mb-2">Medical Advisory Board</h3>
          <p class="text-gray-600 text-sm mb-2">Clinical protocols, evidence review</p>
          <p class="font-medium text-sm">2nd Tuesday @ 12:00 PM ET</p>
        </div>
        <div class="bg-white p-5 rounded-lg shadow">
          <h3 class="font-semibold text-blue-700 mb-2">Payer/Provider Forum</h3>
          <p class="text-gray-600 text-sm mb-2">Insurance integration, reimbursement</p>
          <p class="font-medium text-sm">3rd Thursday @ 2:00 PM ET</p>
        </div>
        <div class="bg-white p-5 rounded-lg shadow">
          <h3 class="font-semibold text-blue-700 mb-2">Compliance Working Group</h3>
          <p class="text-gray-600 text-sm mb-2">HIPAA, state regulations</p>
          <p class="font-medium text-sm">1st & 3rd Wednesday @ 1:00 PM ET</p>
        </div>
      </div>
      <div class="text-center mt-8">
        <a href="mailto:cdes@acidni.net" class="inline-block px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">Request Invite</a>
      </div>
    </div>
  </div>

  <!-- CTA -->
  <div class="max-w-7xl mx-auto px-4 py-12 sm:py-16 sm:px-6 lg:px-8 text-center">
    <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-4">Ready to integrate?</h2>
    <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
      Contact us for enterprise licensing, implementation support, or to join a working group.
    </p>
    <div class="flex flex-col sm:flex-row gap-3 justify-center">
      <a href="mailto:cdes@acidni.net" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition">Contact Us</a>
      <a href="/cdes-m/presentation" class="px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition">View Presentation</a>
    </div>
  </div>
</Layout>
